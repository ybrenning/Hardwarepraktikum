#! mrasm
.ORG 0
	CLR R0

LD R1,0x80
LOOP:
	CMP R1,0x01
	JNS END
	ADD R0,R1
	ST (0xF1),R0
	BITT (0xF1),0x10
	JZS LOWER
	LSR R1
	JMP LOOP

LOWER:
	SUB R0,R1
	LSR R1
	JMP LOOP

END:
	LD R1,0x80
	ST (0xFF),R0
	CLR R0
	JMP LOOP
